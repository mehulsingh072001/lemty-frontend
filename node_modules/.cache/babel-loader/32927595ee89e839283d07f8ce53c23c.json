{"ast":null,"code":"var _jsxFileName = \"/home/lucifer/Projects/softwares/lemty-frontend/src/Pages/Redirect.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport axios from \"axios\";\nimport { GlobalContext } from \"../GlobalProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\n\nfunction Redirect() {\n  _s();\n\n  useEffect(() => {\n    submit();\n  }, []);\n  const {\n    userData\n  } = useContext(GlobalContext);\n  const [userDataModal, setUserDataModal] = userData;\n\n  const submit = () => {\n    var url_string = window.location.href;\n    var url = new URL(url_string);\n    var code = url.searchParams.get('code'); // console.log(code)\n\n    axios.get(\"gmail/get-token/\" + cookies.get(\"userId\") + \"?code=\" + code).then(res => {\n      console.log(res);\n\n      if (res.status === 200) {\n        setUserDataModal(false);\n        window.close();\n      }\n    }); // window.close()\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Redirect, \"Jhz74/C1Y2bVNhrKLr0G7iLfOMQ=\");\n\n_c = Redirect;\nexport default Redirect;\n\nvar _c;\n\n$RefreshReg$(_c, \"Redirect\");","map":{"version":3,"sources":["/home/lucifer/Projects/softwares/lemty-frontend/src/Pages/Redirect.js"],"names":["useState","useEffect","useContext","Cookies","axios","GlobalContext","cookies","Redirect","submit","userData","userDataModal","setUserDataModal","url_string","window","location","href","url","URL","code","searchParams","get","then","res","console","log","status","close"],"mappings":";;;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,EAA6BC,UAA7B,QAA8C,OAA9C;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,mBAA9B;;AAEA,MAAMC,OAAO,GAAG,IAAIH,OAAJ,EAAhB;;AACA,SAASI,QAAT,GAAoB;AAAA;;AAClBN,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,MAAM;AACP,GAFQ,EAEN,EAFM,CAAT;AAGA,QAAM;AAACC,IAAAA;AAAD,MAAaP,UAAU,CAACG,aAAD,CAA7B;AACA,QAAM,CAACK,aAAD,EAAgBC,gBAAhB,IAAoCF,QAA1C;;AAEA,QAAMD,MAAM,GAAG,MAAM;AACnB,QAAII,UAAU,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAjC;AACA,QAAIC,GAAG,GAAG,IAAIC,GAAJ,CAAQL,UAAR,CAAV;AACA,QAAIM,IAAI,GAAGF,GAAG,CAACG,YAAJ,CAAiBC,GAAjB,CAAqB,MAArB,CAAX,CAHmB,CAInB;;AACAhB,IAAAA,KAAK,CAACgB,GAAN,CAAU,qBAAmBd,OAAO,CAACc,GAAR,CAAY,QAAZ,CAAnB,GAAyC,QAAzC,GAAkDF,IAA5D,EAAkEG,IAAlE,CAAwEC,GAAD,IAAS;AAC9EC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAGA,GAAG,CAACG,MAAJ,KAAe,GAAlB,EAAsB;AACpBd,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAE,QAAAA,MAAM,CAACa,KAAP;AACD;AACF,KAND,EALmB,CAYf;AACL,GAbD;;AAcA,sBACE;AAAA,2BACE;AAAQ,MAAA,OAAO,EAAElB,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA1BQD,Q;;KAAAA,Q;AA4BT,eAAeA,QAAf","sourcesContent":["import {useState, useEffect, useContext} from \"react\"\nimport Cookies from \"universal-cookie\"\nimport axios from \"axios\"\nimport { GlobalContext } from \"../GlobalProvider\"\n\nconst cookies = new Cookies();\nfunction Redirect() {\n  useEffect(() => {\n    submit()\n  }, [])\n  const {userData} = useContext(GlobalContext)\n  const [userDataModal, setUserDataModal] = userData\n\n  const submit = () => {\n    var url_string = window.location.href\n    var url = new URL(url_string)\n    var code = url.searchParams.get('code')\n    // console.log(code)\n    axios.get(\"gmail/get-token/\"+cookies.get(\"userId\")+\"?code=\"+code).then((res) => {\n      console.log(res)\n      if(res.status === 200){\n        setUserDataModal(false)\n        window.close()\n      }\n    })\n        // window.close()\n  }\n  return(\n    <div>\n      <button onClick={submit}>Submit</button>\n    </div>\n  )\n}\n\nexport default Redirect\n"]},"metadata":{},"sourceType":"module"}