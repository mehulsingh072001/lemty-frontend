{"ast":null,"code":"var _jsxFileName = \"/home/lucifer/Projects/softwares/lemty/client/src/Pages/Settings/EmailSettings.js\",\n    _s = $RefreshSig$();\n\nimport AppSidebar from \"../../Components/Sidebars/AppSidebar\";\nimport AppTopbar from \"../../Components/Topbars/AppTopbar\";\nimport ToggleSwitch from \"../../Components/ToggleSwitch\";\nimport { NavLink } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport Cookies from 'universal-cookie';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\n\nfunction EmailSettings() {\n  _s();\n\n  let navigate = useNavigate();\n  const userId = cookies.get(\"userId\");\n  const [creds, setCreds] = useState([]);\n  const [displayName, setDisplayName] = useState(\"\");\n  const [signature, setSignature] = useState(\"\");\n  const [getSignature, setGetSignature] = useState([]);\n  const [unsubBody, setUnsubBody] = useState(\"\");\n  const [getUnsub, setGetUnsub] = useState([]);\n  useEffect(() => {\n    getCreds();\n    getSignatureServer(); // getUnsubServer();\n  }, []);\n  const headers = {\n    \"Authorization\": `Bearer ${cookies.get('access_token')}`\n  };\n\n  const getCreds = () => {\n    const params = {\n      userId: userId\n    };\n    axios.get(`/creds/`, {\n      params: params,\n      headers: headers\n    }).then(res => {\n      setCreds(res.data);\n    });\n  };\n\n  const getSignatureServer = () => {\n    axios.get(\"/signature\", {\n      params: {\n        userId: userId\n      },\n      headers: headers\n    }).then(res => {\n      setGetSignature(res.data);\n    });\n  };\n\n  const updateDisplayName = credsId => {\n    const params = {\n      credsId: credsId\n    };\n    const data = {\n      displayName: displayName\n    };\n    axios.put(\"/creds/name\", data, {\n      params: params,\n      headers: headers\n    }).then(res => {\n      console.log(res);\n\n      if (res.status === 201) {\n        window.location.reload();\n      }\n    });\n  };\n\n  const submitSignature = () => {\n    const params = {\n      userId: userId\n    };\n    const data = {\n      signature: signature\n    };\n    axios.post(\"/signature\", data, {\n      headers: headers,\n      params: params\n    }).then(res => {\n      if (res.status === 201) {\n        window.location.reload();\n      }\n    });\n  };\n\n  const getUnsubServer = () => {\n    axios.get(\"/unsubscribe\", {\n      params: {\n        userId: userId\n      },\n      headers: headers\n    }).then(res => {\n      setGetUnsub(res.data);\n      console.log(res.data);\n    });\n  };\n\n  const updateSignature = id => {\n    const params = {\n      signatureId: id\n    };\n    const data = {\n      signature: signature\n    };\n    axios.put(\"/signature/update\", data, {\n      headers: headers,\n      params: params\n    }).then(res => {\n      window.location.reload();\n    });\n  };\n\n  const deleteSignature = id => {\n    const params = {\n      signatureId: id\n    };\n    axios.delete(\"/signature\", {\n      params: params,\n      headers: headers\n    }).then(res => {\n      if (res.status === 200) {\n        window.location.reload();\n      }\n    });\n  };\n\n  const submitUnsubBody = () => {\n    const params = {\n      userId: userId\n    };\n    const data = {\n      body: unsubBody\n    };\n    axios.post(\"/unsubscribe\", data, {\n      headers: headers,\n      params: params\n    }).then(res => {\n      if (res.status === 200) {\n        window.location.reload();\n      }\n    });\n  };\n\n  const updateUnsub = id => {\n    const params = {\n      unsubId: id\n    };\n    const data = {\n      body: unsubBody\n    };\n    axios.put(\"/unsubscribe\", data, {\n      headers: headers,\n      params: params\n    }).then(res => {\n      window.location.reload();\n    });\n  };\n\n  const deleteUnsub = id => {\n    const params = {\n      unsubId: id\n    };\n    axios.delete(\"/unsubscribe\", {\n      params: params,\n      headers: headers\n    }).then(res => {\n      if (res.status === 200) {\n        window.location.reload();\n      }\n    });\n  };\n\n  const deleteCred = credsId => {\n    const params = {\n      credsId: credsId\n    };\n    axios.delete('/creds/', {\n      params: params,\n      headers: headers\n    }).then(res => {\n      console.log(res.data);\n      window.location.reload();\n    });\n  };\n\n  const oauthSignIn = e => {\n    e.preventDefault();\n    const accessType = \"access_type=offline&\";\n    const response_type = \"response_type=code&\";\n    const include_granted_scopes = \"include_granted_scopes=true&\"; // const scope = \"scope=https://www.googleapis.com/auth/gmail.compose&\";\n\n    const scopeArray = \"https://mail.google.com/ https://www.googleapis.com/auth/gmail.compose https://www.googleapis.com/auth/gmail.send https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/gmail.settings.basic\";\n    const arrayStr = encodeURIComponent(scopeArray);\n    const scope = \"scope=\" + arrayStr + \"&\";\n    const redirect_uri = \"redirect_uri=http://localhost:3000/redirect&\";\n    const client_id = \"client_id=1087727582839-72qgrk3g3ea46kq65coo7lbgg3f5cteg.apps.googleusercontent.com&\";\n    const auth_url = \"https://accounts.google.com/o/oauth2/v2/auth?\" + scope + accessType + include_granted_scopes + response_type + redirect_uri + client_id;\n    console.log(scope);\n    var newWindow = window.open(auth_url, null, 'height=500,width=450');\n    newWindow.focus();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"email-settings\",\n    children: [/*#__PURE__*/_jsxDEV(AppSidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AppTopbar, {\n      title: \"Settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"email-settings__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-settings__container--sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"s-back\",\n          onClick: () => navigate(\"/settings\"),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-chevron-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 76\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 115\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => document.getElementById(\"account\").scrollIntoView(),\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"copy__para--medium\",\n              children: \"Email Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 85\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => document.getElementById(\"signatures\").scrollIntoView(),\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"copy__para--medium\",\n              children: \"Signatures\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 88\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => document.getElementById(\"unsub\").scrollIntoView(),\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"copy__para--medium\",\n              children: \"Unsubscribe Link\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 83\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => document.getElementById(\"tracking\").scrollIntoView(),\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"copy__para--medium\",\n              children: \"Tracking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 86\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-settings__container--content\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"path\",\n          children: \"Settings/ email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email-settings__container--content--card\",\n          id: \"account\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"email-settings__container--content--card--head\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"heading-2\",\n              children: \"Email account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-tertiary\",\n              onClick: oauthSignIn,\n              children: \"+ Add an email account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), creds.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"copy__para--medium\",\n            children: \"Connect the email account that you will be using for your campaigns\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this) : creds.map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"creds__container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"heading-1\",\n                children: d.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  defaultValue: d.displayName,\n                  onChange: e => setDisplayName(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `cta ${displayName === \"\" ? 'btn-disabled' : \"\"}`,\n                  onClick: () => updateDisplayName(d.id),\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-delete\",\n              onClick: () => deleteCred(d.id),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-trash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 83\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 19\n            }, this)]\n          }, d.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email-settings__container--content--card\",\n          id: \"signatures\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"email-settings__container--content--card--head\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"heading-2\",\n              children: \"Signatures\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), getSignature.length === 0 ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `cta ${signature === \"\" ? 'btn-disabled' : \"\"}`,\n              onClick: submitSignature,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 19\n            }, this) : getSignature.map((d, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `cta ${signature === \"\" ? 'btn-disabled' : \"\"}`,\n              onClick: () => updateSignature(d.id),\n              children: \"Update\"\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), getSignature.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"u-margin-top-medium editor-container\",\n            children: /*#__PURE__*/_jsxDEV(Editor, {\n              apiKey: \"fnajkiw2wcz5d1lrgsif3xicw1wdvcj4f9hmzxrngbljd9b6\",\n              initialValue: \"\",\n              init: {\n                height: 200,\n                menubar: false,\n                plugins: ['advlist underline autolink lists link image tinydrive', 'charmap print preview anchor help forecolor', 'searchreplace visualblocks code emoticons link', 'insertdatetime media table paste wordcount table fontselect'],\n                toolbar_mode: \"wrap\",\n                toolbar: 'fontselect fontsizeselect forecolor  \\\n                        | bold italic underline \\\n                        | alignleft aligncenter alignright alignjustify| \\\n                        bullist numlist outdent indent \\\n                        | table link image code \\\n                        | emoticons ',\n                image_title: true,\n                automatic_uploads: true,\n                paste_data_images: true,\n                statusbar: false,\n                theme_advanced_toolbar_location: \"bottom\"\n              },\n              onChange: e => setSignature(e.target.getContent())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this) : getSignature.map((d, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"u-margin-top-medium editor-container\",\n              children: /*#__PURE__*/_jsxDEV(Editor, {\n                apiKey: \"fnajkiw2wcz5d1lrgsif3xicw1wdvcj4f9hmzxrngbljd9b6\",\n                initialValue: d.signature,\n                init: {\n                  height: 200,\n                  menubar: false,\n                  plugins: ['advlist underline autolink lists link image tinydrive', 'charmap print preview anchor help forecolor', 'searchreplace visualblocks code emoticons link', 'insertdatetime media table paste wordcount table fontselect'],\n                  toolbar_mode: \"wrap\",\n                  toolbar: 'fontselect fontsizeselect forecolor  \\\n                          | bold italic underline \\\n                          | alignleft aligncenter alignright alignjustify| \\\n                          bullist numlist outdent indent \\\n                          | table link image code \\\n                          | emoticons ',\n                  image_title: true,\n                  automatic_uploads: true,\n                  paste_data_images: true,\n                  statusbar: false,\n                  theme_advanced_toolbar_location: \"bottom\"\n                },\n                onChange: e => setSignature(e.target.getContent())\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"u-end u-margin-top-medium\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-delete\",\n                onClick: () => deleteSignature(d.id),\n                children: \"Delete Signature\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 16\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email-settings__container--content--card\",\n          id: \"unsub\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"email-settings__container--content--card--head\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"heading-2\",\n              children: \"Unsubscribe link text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), getUnsub.length === 0 ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `cta ${unsubBody === \"\" ? 'btn-disabled' : \"\"}`,\n              onClick: submitUnsubBody,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `cta ${unsubBody === \"\" ? 'btn-disabled' : \"\"}`,\n              onClick: () => updateUnsub(getUnsub.id),\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"u-margin-top-medium editor-container\",\n              children: /*#__PURE__*/_jsxDEV(Editor, {\n                apiKey: \"fnajkiw2wcz5d1lrgsif3xicw1wdvcj4f9hmzxrngbljd9b6\",\n                initialValue: getUnsub.body,\n                init: {\n                  height: 200,\n                  menubar: false,\n                  plugins: ['advlist underline autolink lists link image tinydrive', 'charmap print preview anchor help forecolor', 'searchreplace visualblocks code emoticons link', 'insertdatetime media table paste wordcount table fontselect'],\n                  toolbar_mode: \"wrap\",\n                  toolbar: 'fontselect fontsizeselect forecolor  \\\n                          | bold italic underline \\\n                          | alignleft aligncenter alignright alignjustify| \\\n                          bullist numlist outdent indent \\\n                          | table link image code \\\n                          | emoticons ',\n                  image_title: true,\n                  automatic_uploads: true,\n                  paste_data_images: true,\n                  statusbar: false,\n                  theme_advanced_toolbar_location: \"bottom\"\n                },\n                onChange: e => setUnsubBody(e.target.getContent())\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"u-end u-margin-top-medium\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-delete\",\n                onClick: () => deleteUnsub(getUnsub.id),\n                children: \"Delete Signature\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email-settings__container--content--card\",\n          id: \"tracking\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"heading-2\",\n            children: \"Email Tracking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(ToggleSwitch, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Track Email Opens\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(ToggleSwitch, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Track Link Clicks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EmailSettings, \"B+mnP3MVOWqdvC6/WksDERBrKNQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = EmailSettings;\nexport default EmailSettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmailSettings\");","map":{"version":3,"sources":["/home/lucifer/Projects/softwares/lemty/client/src/Pages/Settings/EmailSettings.js"],"names":["AppSidebar","AppTopbar","ToggleSwitch","NavLink","useNavigate","axios","useEffect","useState","Cookies","Editor","cookies","EmailSettings","navigate","userId","get","creds","setCreds","displayName","setDisplayName","signature","setSignature","getSignature","setGetSignature","unsubBody","setUnsubBody","getUnsub","setGetUnsub","getCreds","getSignatureServer","headers","params","then","res","data","updateDisplayName","credsId","put","console","log","status","window","location","reload","submitSignature","post","getUnsubServer","updateSignature","id","signatureId","deleteSignature","delete","submitUnsubBody","body","updateUnsub","unsubId","deleteUnsub","deleteCred","oauthSignIn","e","preventDefault","accessType","response_type","include_granted_scopes","scopeArray","arrayStr","encodeURIComponent","scope","redirect_uri","client_id","auth_url","newWindow","open","focus","document","getElementById","scrollIntoView","length","map","d","email","target","value","index","height","menubar","plugins","toolbar_mode","toolbar","image_title","automatic_uploads","paste_data_images","statusbar","theme_advanced_toolbar_location","getContent"],"mappings":";;;AAAA,OAAOA,UAAP,MAAuB,sCAAvB;AACA,OAAOC,SAAP,MAAsB,oCAAtB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,MAAT,QAAuB,wBAAvB;;AAEA,MAAMC,OAAO,GAAG,IAAIF,OAAJ,EAAhB;;AACA,SAASG,aAAT,GAAyB;AAAA;;AACvB,MAAIC,QAAQ,GAAGR,WAAW,EAA1B;AACA,QAAMS,MAAM,GAAGH,OAAO,CAACI,GAAR,CAAY,QAAZ,CAAf;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACc,YAAD,EAAeC,eAAf,IAAkCf,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACgB,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACkB,QAAD,EAAWC,WAAX,IAA0BnB,QAAQ,CAAC,EAAD,CAAxC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,QAAQ;AACRC,IAAAA,kBAAkB,GAFJ,CAGd;AACD,GAJQ,EAIN,EAJM,CAAT;AAMA,QAAMC,OAAO,GAAG;AACZ,qBAAkB,UAASnB,OAAO,CAACI,GAAR,CAAY,cAAZ,CAA4B;AAD3C,GAAhB;;AAIA,QAAMa,QAAQ,GAAG,MAAM;AACrB,UAAMG,MAAM,GAAG;AACbjB,MAAAA,MAAM,EAAEA;AADK,KAAf;AAGAR,IAAAA,KAAK,CAACS,GAAN,CAAW,SAAX,EAAqB;AACnBgB,MAAAA,MAAM,EAAGA,MADU;AAEnBD,MAAAA,OAAO,EAAEA;AAFU,KAArB,EAGGE,IAHH,CAGSC,GAAD,IAAS;AACfhB,MAAAA,QAAQ,CAACgB,GAAG,CAACC,IAAL,CAAR;AACD,KALD;AAMD,GAVD;;AAYA,QAAML,kBAAkB,GAAG,MAAM;AAC/BvB,IAAAA,KAAK,CAACS,GAAN,CAAU,YAAV,EAAwB;AACtBgB,MAAAA,MAAM,EAAE;AACNjB,QAAAA,MAAM,EAAEA;AADF,OADc;AAItBgB,MAAAA,OAAO,EAAEA;AAJa,KAAxB,EAKGE,IALH,CAKSC,GAAD,IAAS;AACfV,MAAAA,eAAe,CAACU,GAAG,CAACC,IAAL,CAAf;AACD,KAPD;AAQD,GATD;;AAWA,QAAMC,iBAAiB,GAAIC,OAAD,IAAa;AACrC,UAAML,MAAM,GAAG;AACbK,MAAAA,OAAO,EAAEA;AADI,KAAf;AAGA,UAAMF,IAAI,GAAG;AACXhB,MAAAA,WAAW,EAAEA;AADF,KAAb;AAGAZ,IAAAA,KAAK,CAAC+B,GAAN,CAAU,aAAV,EAAyBH,IAAzB,EAA+B;AAC7BH,MAAAA,MAAM,EAAEA,MADqB;AAE7BD,MAAAA,OAAO,EAAEA;AAFoB,KAA/B,EAGGE,IAHH,CAGSC,GAAD,IAAS;AACfK,MAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;;AACA,UAAGA,GAAG,CAACO,MAAJ,KAAe,GAAlB,EAAsB;AACpBC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD;AACF,KARD;AASD,GAhBD;;AAkBA,QAAMC,eAAe,GAAG,MAAM;AAC5B,UAAMb,MAAM,GAAG;AACbjB,MAAAA,MAAM,EAAEA;AADK,KAAf;AAIA,UAAMoB,IAAI,GAAG;AACXd,MAAAA,SAAS,EAAEA;AADA,KAAb;AAIAd,IAAAA,KAAK,CAACuC,IAAN,CAAW,YAAX,EAAyBX,IAAzB,EAA+B;AAC7BJ,MAAAA,OAAO,EAAEA,OADoB;AAE7BC,MAAAA,MAAM,EAAEA;AAFqB,KAA/B,EAGGC,IAHH,CAGSC,GAAD,IAAS;AACf,UAAGA,GAAG,CAACO,MAAJ,KAAe,GAAlB,EAAsB;AACpBC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD;AACF,KAPD;AAQD,GAjBD;;AAmBA,QAAMG,cAAc,GAAG,MAAM;AAC3BxC,IAAAA,KAAK,CAACS,GAAN,CAAU,cAAV,EAA0B;AACxBgB,MAAAA,MAAM,EAAE;AACNjB,QAAAA,MAAM,EAAEA;AADF,OADgB;AAIxBgB,MAAAA,OAAO,EAAEA;AAJe,KAA1B,EAKGE,IALH,CAKSC,GAAD,IAAS;AACfN,MAAAA,WAAW,CAACM,GAAG,CAACC,IAAL,CAAX;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACC,IAAhB;AACD,KARD;AASD,GAVD;;AAaA,QAAMa,eAAe,GAAIC,EAAD,IAAQ;AAC9B,UAAMjB,MAAM,GAAG;AACbkB,MAAAA,WAAW,EAAED;AADA,KAAf;AAGA,UAAMd,IAAI,GAAG;AACXd,MAAAA,SAAS,EAAEA;AADA,KAAb;AAGAd,IAAAA,KAAK,CAAC+B,GAAN,CAAU,mBAAV,EAA+BH,IAA/B,EAAqC;AACnCJ,MAAAA,OAAO,EAAEA,OAD0B;AAEnCC,MAAAA,MAAM,EAAEA;AAF2B,KAArC,EAGGC,IAHH,CAGSC,GAAD,IAAS;AACfQ,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,KALD;AAMD,GAbD;;AAeA,QAAMO,eAAe,GAAIF,EAAD,IAAQ;AAC9B,UAAMjB,MAAM,GAAG;AACbkB,MAAAA,WAAW,EAAED;AADA,KAAf;AAGA1C,IAAAA,KAAK,CAAC6C,MAAN,CAAa,YAAb,EAA2B;AACzBpB,MAAAA,MAAM,EAAEA,MADiB;AAEzBD,MAAAA,OAAO,EAAEA;AAFgB,KAA3B,EAGGE,IAHH,CAGSC,GAAD,IAAS;AACf,UAAGA,GAAG,CAACO,MAAJ,KAAe,GAAlB,EAAsB;AACpBC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD;AACF,KAPD;AAQD,GAZD;;AAcA,QAAMS,eAAe,GAAG,MAAM;AAC5B,UAAMrB,MAAM,GAAG;AACbjB,MAAAA,MAAM,EAAEA;AADK,KAAf;AAGA,UAAMoB,IAAI,GAAG;AACXmB,MAAAA,IAAI,EAAE7B;AADK,KAAb;AAGAlB,IAAAA,KAAK,CAACuC,IAAN,CAAW,cAAX,EAA2BX,IAA3B,EAAiC;AAC/BJ,MAAAA,OAAO,EAAEA,OADsB;AAE/BC,MAAAA,MAAM,EAAEA;AAFuB,KAAjC,EAGGC,IAHH,CAGSC,GAAD,IAAS;AACf,UAAGA,GAAG,CAACO,MAAJ,KAAe,GAAlB,EAAsB;AACpBC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD;AACF,KAPD;AAQD,GAfD;;AAiBA,QAAMW,WAAW,GAAIN,EAAD,IAAQ;AAC1B,UAAMjB,MAAM,GAAG;AACbwB,MAAAA,OAAO,EAAEP;AADI,KAAf;AAGA,UAAMd,IAAI,GAAG;AACXmB,MAAAA,IAAI,EAAE7B;AADK,KAAb;AAGAlB,IAAAA,KAAK,CAAC+B,GAAN,CAAU,cAAV,EAA0BH,IAA1B,EAAgC;AAC9BJ,MAAAA,OAAO,EAAEA,OADqB;AAE9BC,MAAAA,MAAM,EAAEA;AAFsB,KAAhC,EAGGC,IAHH,CAGSC,GAAD,IAAS;AACfQ,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,KALD;AAMD,GAbD;;AAeA,QAAMa,WAAW,GAAIR,EAAD,IAAQ;AAC1B,UAAMjB,MAAM,GAAG;AACbwB,MAAAA,OAAO,EAAEP;AADI,KAAf;AAGA1C,IAAAA,KAAK,CAAC6C,MAAN,CAAa,cAAb,EAA6B;AAC3BpB,MAAAA,MAAM,EAAEA,MADmB;AAE3BD,MAAAA,OAAO,EAAEA;AAFkB,KAA7B,EAGGE,IAHH,CAGSC,GAAD,IAAS;AACf,UAAGA,GAAG,CAACO,MAAJ,KAAe,GAAlB,EAAsB;AACpBC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD;AACF,KAPD;AAQD,GAZD;;AAcA,QAAMc,UAAU,GAAIrB,OAAD,IAAa;AAC9B,UAAML,MAAM,GAAG;AACbK,MAAAA,OAAO,EAAEA;AADI,KAAf;AAGA9B,IAAAA,KAAK,CAAC6C,MAAN,CAAa,SAAb,EAAwB;AACtBpB,MAAAA,MAAM,EAAEA,MADc;AAEtBD,MAAAA,OAAO,EAAEA;AAFa,KAAxB,EAGGE,IAHH,CAGSC,GAAD,IAAS;AACfK,MAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACC,IAAhB;AACAO,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,KAND;AAOD,GAXD;;AAaA,QAAMe,WAAW,GAAIC,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,UAAU,GAAG,sBAAnB;AACA,UAAMC,aAAa,GAAG,qBAAtB;AACA,UAAMC,sBAAsB,GAAG,8BAA/B,CAJyB,CAKzB;;AACA,UAAMC,UAAU,GAAG,yNAAnB;AACA,UAAMC,QAAQ,GAAGC,kBAAkB,CAACF,UAAD,CAAnC;AACA,UAAMG,KAAK,GAAG,WAASF,QAAT,GAAkB,GAAhC;AACA,UAAMG,YAAY,GAAG,8CAArB;AACA,UAAMC,SAAS,GAAG,sFAAlB;AACA,UAAMC,QAAQ,GAAG,kDAAgDH,KAAhD,GAAsDN,UAAtD,GAAiEE,sBAAjE,GAAwFD,aAAxF,GAAsGM,YAAtG,GAAmHC,SAApI;AACA/B,IAAAA,OAAO,CAACC,GAAR,CAAY4B,KAAZ;AACA,QAAII,SAAS,GAAG9B,MAAM,CAAC+B,IAAP,CAAYF,QAAZ,EAAsB,IAAtB,EAA4B,sBAA5B,CAAhB;AACAC,IAAAA,SAAS,CAACE,KAAV;AACD,GAfD;;AAiBA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,4BACE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAlB;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,oCAAf;AAAA,gCACE;AAAQ,UAAA,SAAS,EAAC,QAAlB;AAA2B,UAAA,OAAO,EAAE,MAAM5D,QAAQ,CAAC,WAAD,CAAlD;AAAA,kCAAiE;AAAG,YAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,kBAAjE,eAAwG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAxG;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,kCACE;AAAI,YAAA,OAAO,EAAE,MAAM6D,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,cAAnC,EAAnB;AAAA,mCAAwE;AAAG,cAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAxE;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAI,YAAA,OAAO,EAAE,MAAMF,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,cAAtC,EAAnB;AAAA,mCAA2E;AAAG,cAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA3E;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAI,YAAA,OAAO,EAAE,MAAMF,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,cAAjC,EAAnB;AAAA,mCAAsE;AAAG,cAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAtE;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAI,YAAA,OAAO,EAAE,MAAMF,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,cAApC,EAAnB;AAAA,mCAAyE;AAAG,cAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzE;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAWE;AAAK,QAAA,SAAS,EAAC,oCAAf;AAAA,gCACE;AAAG,UAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE;AAAK,UAAA,SAAS,EAAC,0CAAf;AAA0D,UAAA,EAAE,EAAC,SAA7D;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,gDAAf;AAAA,oCACE;AAAI,cAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAQ,cAAA,SAAS,EAAC,cAAlB;AAAiC,cAAA,OAAO,EAAElB,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAOI1C,KAAK,CAAC6D,MAAN,KAAiB,CAAjB,gBACA;AAAG,YAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,GAGA7D,KAAK,CAAC8D,GAAN,CAAUC,CAAC,iBACT;AAAgB,YAAA,SAAS,EAAC,kBAA1B;AAAA,oCACE;AAAA,sCACE;AAAI,gBAAA,SAAS,EAAC,WAAd;AAAA,0BAA2BA,CAAC,CAACC;AAA7B;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,wCACE;AAAO,kBAAA,IAAI,EAAC,MAAZ;AAAmB,kBAAA,YAAY,EAAED,CAAC,CAAC7D,WAAnC;AAAgD,kBAAA,QAAQ,EAAGyC,CAAD,IAAOxC,cAAc,CAACwC,CAAC,CAACsB,MAAF,CAASC,KAAV;AAA/E;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAQ,kBAAA,SAAS,EAAG,OAAMhE,WAAW,KAAK,EAAhB,GAAqB,cAArB,GAAsC,EAAG,EAAnE;AAAsE,kBAAA,OAAO,EAAE,MAAMiB,iBAAiB,CAAC4C,CAAC,CAAC/B,EAAH,CAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAQE;AAAQ,cAAA,SAAS,EAAC,YAAlB;AAA+B,cAAA,OAAO,EAAE,MAAMS,UAAU,CAACsB,CAAC,CAAC/B,EAAH,CAAxD;AAAA,qCAAgE;AAAG,gBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAAhE;AAAA;AAAA;AAAA;AAAA,oBARF;AAAA,aAAU+B,CAAC,CAAC/B,EAAZ;AAAA;AAAA;AAAA;AAAA,kBADF,CAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eA4BE;AAAK,UAAA,SAAS,EAAC,0CAAf;AAA0D,UAAA,EAAE,EAAC,YAA7D;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,gDAAf;AAAA,oCACE;AAAI,cAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAGI1B,YAAY,CAACuD,MAAb,KAAwB,CAAxB,gBACE;AAAQ,cAAA,SAAS,EAAG,OAAMzD,SAAS,KAAK,EAAd,GAAmB,cAAnB,GAAoC,EAAG,EAAjE;AAAoE,cAAA,OAAO,EAAEwB,eAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,GAEEtB,YAAY,CAACwD,GAAb,CAAiB,CAACC,CAAD,EAAII,KAAJ,kBACrB;AAAoB,cAAA,SAAS,EAAG,OAAM/D,SAAS,KAAK,EAAd,GAAmB,cAAnB,GAAoC,EAAG,EAA7E;AAAgF,cAAA,OAAO,EAAE,MAAM2B,eAAe,CAACgC,CAAC,CAAC/B,EAAH,CAA9G;AAAA;AAAA,eAAamC,KAAb;AAAA;AAAA;AAAA;AAAA,oBADI,CALN;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAaI7D,YAAY,CAACuD,MAAb,KAAwB,CAAxB,gBACE;AAAK,YAAA,SAAS,EAAC,sCAAf;AAAA,mCACE,QAAC,MAAD;AACE,cAAA,MAAM,EAAC,kDADT;AAEE,cAAA,YAAY,EAAC,EAFf;AAGE,cAAA,IAAI,EAAE;AACJO,gBAAAA,MAAM,EAAE,GADJ;AAEJC,gBAAAA,OAAO,EAAE,KAFL;AAGJC,gBAAAA,OAAO,EAAE,CACP,uDADO,EAEP,6CAFO,EAGP,gDAHO,EAIP,6DAJO,CAHL;AASJC,gBAAAA,YAAY,EAAE,MATV;AAUJC,gBAAAA,OAAO,EACL;AACxB;AACA;AACA;AACA;AACA,qCAhB0B;AAiBJC,gBAAAA,WAAW,EAAE,IAjBT;AAkBJC,gBAAAA,iBAAiB,EAAE,IAlBf;AAmBJC,gBAAAA,iBAAiB,EAAE,IAnBf;AAoBJC,gBAAAA,SAAS,EAAE,KApBP;AAqBJC,gBAAAA,+BAA+B,EAAE;AArB7B,eAHR;AA0BE,cAAA,QAAQ,EAAGlC,CAAD,IAAOtC,YAAY,CAACsC,CAAC,CAACsB,MAAF,CAASa,UAAT,EAAD;AA1B/B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,GAgCAxE,YAAY,CAACwD,GAAb,CAAiB,CAACC,CAAD,EAAII,KAAJ,kBAChB;AAAA,oCACG;AAAK,cAAA,SAAS,EAAC,sCAAf;AAAA,qCACE,QAAC,MAAD;AACE,gBAAA,MAAM,EAAC,kDADT;AAEE,gBAAA,YAAY,EAAEJ,CAAC,CAAC3D,SAFlB;AAGE,gBAAA,IAAI,EAAE;AACJgE,kBAAAA,MAAM,EAAE,GADJ;AAEJC,kBAAAA,OAAO,EAAE,KAFL;AAGJC,kBAAAA,OAAO,EAAE,CACP,uDADO,EAEP,6CAFO,EAGP,gDAHO,EAIP,6DAJO,CAHL;AASJC,kBAAAA,YAAY,EAAE,MATV;AAUJC,kBAAAA,OAAO,EACL;AAC1B;AACA;AACA;AACA;AACA,uCAhB4B;AAiBJC,kBAAAA,WAAW,EAAE,IAjBT;AAkBJC,kBAAAA,iBAAiB,EAAE,IAlBf;AAmBJC,kBAAAA,iBAAiB,EAAE,IAnBf;AAoBJC,kBAAAA,SAAS,EAAE,KApBP;AAqBJC,kBAAAA,+BAA+B,EAAE;AArB7B,iBAHR;AA0BE,gBAAA,QAAQ,EAAGlC,CAAD,IAAOtC,YAAY,CAACsC,CAAC,CAACsB,MAAF,CAASa,UAAT,EAAD;AA1B/B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADH,eA+BG;AAAK,cAAA,SAAS,EAAC,2BAAf;AAAA,qCACE;AAAQ,gBAAA,SAAS,EAAC,YAAlB;AAA+B,gBAAA,OAAO,EAAE,MAAM5C,eAAe,CAAC6B,CAAC,CAAC/B,EAAH,CAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA/BH;AAAA,aAAUmC,KAAV;AAAA;AAAA;AAAA;AAAA,kBADD,CA7CJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBA5BF,eAiHE;AAAK,UAAA,SAAS,EAAC,0CAAf;AAA0D,UAAA,EAAE,EAAC,OAA7D;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,gDAAf;AAAA,oCACE;AAAI,cAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAGIzD,QAAQ,CAACmD,MAAT,KAAoB,CAApB,gBACE;AAAQ,cAAA,SAAS,EAAG,OAAMrD,SAAS,KAAK,EAAd,GAAmB,cAAnB,GAAoC,EAAG,EAAjE;AAAoE,cAAA,OAAO,EAAE4B,eAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,gBAEE;AAAQ,cAAA,SAAS,EAAG,OAAM5B,SAAS,KAAK,EAAd,GAAmB,cAAnB,GAAoC,EAAG,EAAjE;AAAoE,cAAA,OAAO,EAAE,MAAM8B,WAAW,CAAC5B,QAAQ,CAACsB,EAAV,CAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALN;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAWK;AAAA,oCACG;AAAK,cAAA,SAAS,EAAC,sCAAf;AAAA,qCACE,QAAC,MAAD;AACE,gBAAA,MAAM,EAAC,kDADT;AAEE,gBAAA,YAAY,EAAEtB,QAAQ,CAAC2B,IAFzB;AAGE,gBAAA,IAAI,EAAE;AACJ+B,kBAAAA,MAAM,EAAE,GADJ;AAEJC,kBAAAA,OAAO,EAAE,KAFL;AAGJC,kBAAAA,OAAO,EAAE,CACP,uDADO,EAEP,6CAFO,EAGP,gDAHO,EAIP,6DAJO,CAHL;AASJC,kBAAAA,YAAY,EAAE,MATV;AAUJC,kBAAAA,OAAO,EACL;AAC1B;AACA;AACA;AACA;AACA,uCAhB4B;AAiBJC,kBAAAA,WAAW,EAAE,IAjBT;AAkBJC,kBAAAA,iBAAiB,EAAE,IAlBf;AAmBJC,kBAAAA,iBAAiB,EAAE,IAnBf;AAoBJC,kBAAAA,SAAS,EAAE,KApBP;AAqBJC,kBAAAA,+BAA+B,EAAE;AArB7B,iBAHR;AA0BE,gBAAA,QAAQ,EAAGlC,CAAD,IAAOlC,YAAY,CAACkC,CAAC,CAACsB,MAAF,CAASa,UAAT,EAAD;AA1B/B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADH,eA+BG;AAAK,cAAA,SAAS,EAAC,2BAAf;AAAA,qCACE;AAAQ,gBAAA,SAAS,EAAC,YAAlB;AAA+B,gBAAA,OAAO,EAAE,MAAMtC,WAAW,CAAC9B,QAAQ,CAACsB,EAAV,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA/BH;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXL;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjHF,eAkKE;AAAK,UAAA,SAAS,EAAC,0CAAf;AAA0D,UAAA,EAAE,EAAC,UAA7D;AAAA,kCACE;AAAI,YAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAME;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlKF;AAAA;AAAA;AAAA;AAAA;AAAA,cAXF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiMD;;GAvYQpC,a;UACQP,W;;;KADRO,a;AAyYT,eAAeA,aAAf","sourcesContent":["import AppSidebar from \"../../Components/Sidebars/AppSidebar\";\nimport AppTopbar from \"../../Components/Topbars/AppTopbar\"\nimport ToggleSwitch from \"../../Components/ToggleSwitch\";\nimport { NavLink } from \"react-router-dom\";\nimport {useNavigate} from \"react-router-dom\"\nimport axios from \"axios\"\nimport { useEffect, useState } from \"react\";\nimport Cookies from 'universal-cookie';\nimport { Editor } from '@tinymce/tinymce-react'; \n\nconst cookies = new Cookies()\nfunction EmailSettings() {\n  let navigate = useNavigate()\n  const userId = cookies.get(\"userId\")\n  const [creds, setCreds] = useState([])\n  const [displayName, setDisplayName] = useState(\"\")\n  const [signature, setSignature] = useState(\"\")\n  const [getSignature, setGetSignature] = useState([])\n  const [unsubBody, setUnsubBody] = useState(\"\")\n  const [getUnsub, setGetUnsub] = useState([])\n\n  useEffect(() => {\n    getCreds();\n    getSignatureServer();\n    // getUnsubServer();\n  }, [])\n\n  const headers = {\n      \"Authorization\": `Bearer ${cookies.get('access_token')}`\n  }\n\n  const getCreds = () => {\n    const params = {\n      userId: userId\n    }\n    axios.get(`/creds/`, {\n      params : params,\n      headers: headers\n    }).then((res) => {\n      setCreds(res.data)\n    })\n  }\n\n  const getSignatureServer = () => {\n    axios.get(\"/signature\", {\n      params: {\n        userId: userId\n      },\n      headers: headers\n    }).then((res) => {\n      setGetSignature(res.data)\n    })\n  }\n\n  const updateDisplayName = (credsId) => {\n    const params = {\n      credsId: credsId\n    }\n    const data = {\n      displayName: displayName\n    }\n    axios.put(\"/creds/name\", data, {\n      params: params,\n      headers: headers\n    }).then((res) => {\n      console.log(res)\n      if(res.status === 201){\n        window.location.reload()\n      }\n    })\n  }\n\n  const submitSignature = () => {\n    const params = {\n      userId: userId\n    }\n\n    const data = {\n      signature: signature\n    }\n\n    axios.post(\"/signature\", data, {\n      headers: headers,\n      params: params\n    }).then((res) => {\n      if(res.status === 201){\n        window.location.reload()\n      }\n    })\n  }\n\n  const getUnsubServer = () => {\n    axios.get(\"/unsubscribe\", {\n      params: {\n        userId: userId\n      },\n      headers: headers\n    }).then((res) => {\n      setGetUnsub(res.data)\n      console.log(res.data)\n    })\n  }\n\n\n  const updateSignature = (id) => {\n    const params = {\n      signatureId: id\n    }\n    const data = {\n      signature: signature\n    }\n    axios.put(\"/signature/update\", data, {\n      headers: headers,\n      params: params\n    }).then((res) => {\n      window.location.reload()\n    })\n  }\n\n  const deleteSignature = (id) => {\n    const params = {\n      signatureId: id\n    }\n    axios.delete(\"/signature\", {\n      params: params,\n      headers: headers\n    }).then((res) => {\n      if(res.status === 200){\n        window.location.reload()\n      }\n    })\n  }\n\n  const submitUnsubBody = () => {\n    const params = {\n      userId: userId\n    }\n    const data = {\n      body: unsubBody\n    }\n    axios.post(\"/unsubscribe\", data, {\n      headers: headers,\n      params: params\n    }).then((res) => {\n      if(res.status === 200){\n        window.location.reload()\n      }\n    })\n  }\n\n  const updateUnsub = (id) => {\n    const params = {\n      unsubId: id\n    }\n    const data = {\n      body: unsubBody\n    }\n    axios.put(\"/unsubscribe\", data, {\n      headers: headers,\n      params: params\n    }).then((res) => {\n      window.location.reload()\n    })\n  }\n\n  const deleteUnsub = (id) => {\n    const params = {\n      unsubId: id\n    }\n    axios.delete(\"/unsubscribe\", {\n      params: params,\n      headers: headers\n    }).then((res) => {\n      if(res.status === 200){\n        window.location.reload()\n      }\n    })\n  }\n\n  const deleteCred = (credsId) => {\n    const params = {\n      credsId: credsId\n    }\n    axios.delete('/creds/', {\n      params: params,\n      headers: headers\n    }).then((res) => {\n      console.log(res.data)\n      window.location.reload()\n    })\n  }\n\n  const oauthSignIn = (e) => {\n    e.preventDefault()\n    const accessType = \"access_type=offline&\";\n    const response_type = \"response_type=code&\";\n    const include_granted_scopes = \"include_granted_scopes=true&\";\n    // const scope = \"scope=https://www.googleapis.com/auth/gmail.compose&\";\n    const scopeArray = \"https://mail.google.com/ https://www.googleapis.com/auth/gmail.compose https://www.googleapis.com/auth/gmail.send https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/gmail.settings.basic\";\n    const arrayStr = encodeURIComponent(scopeArray)\n    const scope = \"scope=\"+arrayStr+\"&\"\n    const redirect_uri = \"redirect_uri=http://localhost:3000/redirect&\";\n    const client_id = \"client_id=1087727582839-72qgrk3g3ea46kq65coo7lbgg3f5cteg.apps.googleusercontent.com&\";\n    const auth_url = \"https://accounts.google.com/o/oauth2/v2/auth?\"+scope+accessType+include_granted_scopes+response_type+redirect_uri+client_id;\n    console.log(scope)\n    var newWindow = window.open(auth_url, null, 'height=500,width=450')\n    newWindow.focus()\n  }\n\n  return(\n    <div className=\"email-settings\">\n      <AppSidebar/>\n      <AppTopbar title={\"Settings\"}/>\n      <div className=\"email-settings__container\">\n        <div className=\"email-settings__container--sidebar\">\n          <button className=\"s-back\" onClick={() => navigate(\"/settings\")}><i className=\"fas fa-chevron-left\"></i><span>Back</span></button>\n          <ul>\n            <li onClick={() => document.getElementById(\"account\").scrollIntoView()}><p className=\"copy__para--medium\">Email Account</p></li>\n            <li onClick={() => document.getElementById(\"signatures\").scrollIntoView()}><p className=\"copy__para--medium\">Signatures</p></li>\n            <li onClick={() => document.getElementById(\"unsub\").scrollIntoView()}><p className=\"copy__para--medium\">Unsubscribe Link</p></li>\n            <li onClick={() => document.getElementById(\"tracking\").scrollIntoView()}><p className=\"copy__para--medium\">Tracking</p></li>\n          </ul>\n        </div>\n\n        <div className=\"email-settings__container--content\">\n          <p className=\"path\">Settings/ email</p>\n\n          <div className=\"email-settings__container--content--card\" id=\"account\">\n            <div className=\"email-settings__container--content--card--head\">\n              <h4 className=\"heading-2\">Email account</h4>\n              <button className=\"btn-tertiary\" onClick={oauthSignIn}>+ Add an email account</button>\n            </div>\n\n            {\n              creds.length === 0 ? \n              <p className=\"copy__para--medium\">Connect the email account that you will be using for your campaigns</p>\n              :\n              creds.map(d => \n                <div key={d.id} className=\"creds__container\">\n                  <div>\n                    <h4 className=\"heading-1\">{d.email}</h4>\n                    <div className=\"row\">\n                      <input type=\"text\" defaultValue={d.displayName} onChange={(e) => setDisplayName(e.target.value)}/>\n                      <button className={`cta ${displayName === \"\" ? 'btn-disabled' : \"\"}`} onClick={() => updateDisplayName(d.id)}>Save</button>\n                    </div>\n                  </div>\n                  <button className=\"btn-delete\" onClick={() => deleteCred(d.id)}><i className=\"fas fa-trash\"></i></button>\n                </div>\n              )\n            }\n          </div>\n\n          <div className=\"email-settings__container--content--card\" id=\"signatures\">\n            <div className=\"email-settings__container--content--card--head\">\n              <h4 className=\"heading-2\">Signatures</h4>\n              {\n                getSignature.length === 0 ? \n                  <button className={`cta ${signature === \"\" ? 'btn-disabled' : \"\"}`} onClick={submitSignature}>Save</button> :\n                  getSignature.map((d, index) => \n              <button key={index} className={`cta ${signature === \"\" ? 'btn-disabled' : \"\"}`} onClick={() => updateSignature(d.id)}>Update</button>\n                  )\n              }\n            </div>\n\n            {\n              getSignature.length === 0 ? \n                <div className=\"u-margin-top-medium editor-container\">\n                  <Editor\n                    apiKey=\"fnajkiw2wcz5d1lrgsif3xicw1wdvcj4f9hmzxrngbljd9b6\"\n                    initialValue=\"\"\n                    init={{\n                      height: 200,\n                      menubar: false,\n                      plugins: [\n                        'advlist underline autolink lists link image tinydrive', \n                        'charmap print preview anchor help forecolor',\n                        'searchreplace visualblocks code emoticons link',\n                        'insertdatetime media table paste wordcount table fontselect'\n                      ],\n                      toolbar_mode: \"wrap\",\n                      toolbar:\n                        'fontselect fontsizeselect forecolor  \\\n                        | bold italic underline \\\n                        | alignleft aligncenter alignright alignjustify| \\\n                        bullist numlist outdent indent \\\n                        | table link image code \\\n                        | emoticons ',\n                      image_title: true,\n                      automatic_uploads: true,\n                      paste_data_images: true,\n                      statusbar: false,\n                      theme_advanced_toolbar_location: \"bottom\",\n                    }}\n                    onChange={(e) => setSignature(e.target.getContent())}\n                  />\n                </div>\n              :\n              getSignature.map((d, index) => \n               <div key={index}>\n                  <div className=\"u-margin-top-medium editor-container\">\n                    <Editor\n                      apiKey=\"fnajkiw2wcz5d1lrgsif3xicw1wdvcj4f9hmzxrngbljd9b6\"\n                      initialValue={d.signature}\n                      init={{\n                        height: 200,\n                        menubar: false,\n                        plugins: [\n                          'advlist underline autolink lists link image tinydrive', \n                          'charmap print preview anchor help forecolor',\n                          'searchreplace visualblocks code emoticons link',\n                          'insertdatetime media table paste wordcount table fontselect'\n                        ],\n                        toolbar_mode: \"wrap\",\n                        toolbar:\n                          'fontselect fontsizeselect forecolor  \\\n                          | bold italic underline \\\n                          | alignleft aligncenter alignright alignjustify| \\\n                          bullist numlist outdent indent \\\n                          | table link image code \\\n                          | emoticons ',\n                        image_title: true,\n                        automatic_uploads: true,\n                        paste_data_images: true,\n                        statusbar: false,\n                        theme_advanced_toolbar_location: \"bottom\",\n                      }}\n                      onChange={(e) => setSignature(e.target.getContent())}\n                    />\n                  </div>\n                  <div className=\"u-end u-margin-top-medium\">\n                    <button className=\"btn-delete\" onClick={() => deleteSignature(d.id)}>Delete Signature</button>\n                  </div>\n               </div>\n                ) \n            }\n          </div>\n\n          <div className=\"email-settings__container--content--card\" id=\"unsub\">\n            <div className=\"email-settings__container--content--card--head\">\n              <h4 className=\"heading-2\">Unsubscribe link text</h4>\n              {\n                getUnsub.length === 0 ? \n                  <button className={`cta ${unsubBody === \"\" ? 'btn-disabled' : \"\"}`} onClick={submitUnsubBody}>Save</button> :\n                  <button className={`cta ${unsubBody === \"\" ? 'btn-disabled' : \"\"}`} onClick={() => updateUnsub(getUnsub.id)}>Update</button>\n              }\n            </div>\n\n            {\n               <div>\n                  <div className=\"u-margin-top-medium editor-container\">\n                    <Editor\n                      apiKey=\"fnajkiw2wcz5d1lrgsif3xicw1wdvcj4f9hmzxrngbljd9b6\"\n                      initialValue={getUnsub.body}\n                      init={{\n                        height: 200,\n                        menubar: false,\n                        plugins: [\n                          'advlist underline autolink lists link image tinydrive', \n                          'charmap print preview anchor help forecolor',\n                          'searchreplace visualblocks code emoticons link',\n                          'insertdatetime media table paste wordcount table fontselect'\n                        ],\n                        toolbar_mode: \"wrap\",\n                        toolbar:\n                          'fontselect fontsizeselect forecolor  \\\n                          | bold italic underline \\\n                          | alignleft aligncenter alignright alignjustify| \\\n                          bullist numlist outdent indent \\\n                          | table link image code \\\n                          | emoticons ',\n                        image_title: true,\n                        automatic_uploads: true,\n                        paste_data_images: true,\n                        statusbar: false,\n                        theme_advanced_toolbar_location: \"bottom\",\n                      }}\n                      onChange={(e) => setUnsubBody(e.target.getContent())}\n                    />\n                  </div>\n                  <div className=\"u-end u-margin-top-medium\">\n                    <button className=\"btn-delete\" onClick={() => deleteUnsub(getUnsub.id)}>Delete Signature</button>\n                  </div>\n               </div>\n            }\n          </div>\n\n          <div className=\"email-settings__container--content--card\" id=\"tracking\">\n            <h4 className=\"heading-2\">Email Tracking</h4>\n            <div className=\"row\">\n              <ToggleSwitch/>\n              <p>Track Email Opens</p>\n            </div>\n            <div className=\"row\">\n              <ToggleSwitch/>\n              <p>Track Link Clicks</p>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default EmailSettings;\n"]},"metadata":{},"sourceType":"module"}