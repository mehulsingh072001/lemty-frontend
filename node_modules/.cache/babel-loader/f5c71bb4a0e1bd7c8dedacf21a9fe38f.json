{"ast":null,"code":"var _jsxFileName = \"/home/lucifer/Projects/softwares/lemty/client/src/Pages/Redirect.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport axios from \"axios\";\nimport { GlobalContext } from \"../GlobalProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Redirect() {\n  _s();\n\n  useEffect(() => {\n    submit();\n  }, []);\n  const [cookies, setCookies] = useCookies([\"userId\", \"auth\", \"isAuthenticated\"]);\n  const {\n    userData\n  } = useContext(GlobalContext);\n  const [userDataModal, setUserDataModal] = userData;\n\n  const submit = () => {\n    var url_string = window.location.href;\n    var url = new URL(url_string);\n    var code = url.searchParams.get('code'); // console.log(code)\n\n    axios.get(\"http://localhost:8080/api/gmail/get-token/\" + cookies.userId + \"?code=\" + code).then(res => {\n      console.log(res);\n\n      if (res.status === 200) {\n        setUserDataModal(false);\n        window.close();\n      }\n    }); // window.close()\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Redirect, \"/n8Zr3zfuEWC8tC6IfhoXhGwkMw=\", false, function () {\n  return [useCookies];\n});\n\n_c = Redirect;\nexport default Redirect;\n\nvar _c;\n\n$RefreshReg$(_c, \"Redirect\");","map":{"version":3,"sources":["/home/lucifer/Projects/softwares/lemty/client/src/Pages/Redirect.js"],"names":["useState","useEffect","useContext","useCookies","axios","GlobalContext","Redirect","submit","cookies","setCookies","userData","userDataModal","setUserDataModal","url_string","window","location","href","url","URL","code","searchParams","get","userId","then","res","console","log","status","close"],"mappings":";;;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,EAA6BC,UAA7B,QAA8C,OAA9C;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,mBAA9B;;;AAEA,SAASC,QAAT,GAAoB;AAAA;;AAClBL,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,MAAM;AACP,GAFQ,EAEN,EAFM,CAAT;AAGA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,UAAU,CAAC,CAAC,QAAD,EAAU,MAAV,EAAkB,iBAAlB,CAAD,CAAxC;AACA,QAAM;AAACO,IAAAA;AAAD,MAAaR,UAAU,CAACG,aAAD,CAA7B;AACA,QAAM,CAACM,aAAD,EAAgBC,gBAAhB,IAAoCF,QAA1C;;AAEA,QAAMH,MAAM,GAAG,MAAM;AACnB,QAAIM,UAAU,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAjC;AACA,QAAIC,GAAG,GAAG,IAAIC,GAAJ,CAAQL,UAAR,CAAV;AACA,QAAIM,IAAI,GAAGF,GAAG,CAACG,YAAJ,CAAiBC,GAAjB,CAAqB,MAArB,CAAX,CAHmB,CAInB;;AACAjB,IAAAA,KAAK,CAACiB,GAAN,CAAU,+CAA6Cb,OAAO,CAACc,MAArD,GAA4D,QAA5D,GAAqEH,IAA/E,EAAqFI,IAArF,CAA2FC,GAAD,IAAS;AACjGC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAGA,GAAG,CAACG,MAAJ,KAAe,GAAlB,EAAsB;AACpBf,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAE,QAAAA,MAAM,CAACc,KAAP;AACD;AACF,KAND,EALmB,CAYf;AACL,GAbD;;AAcA,sBACE;AAAA,2BACE;AAAQ,MAAA,OAAO,EAAErB,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA3BQD,Q;UAIuBH,U;;;KAJvBG,Q;AA6BT,eAAeA,QAAf","sourcesContent":["import {useState, useEffect, useContext} from \"react\"\nimport { useCookies } from \"react-cookie\"\nimport axios from \"axios\"\nimport { GlobalContext } from \"../GlobalProvider\"\n\nfunction Redirect() {\n  useEffect(() => {\n    submit()\n  }, [])\n  const [cookies, setCookies] = useCookies([\"userId\",\"auth\", \"isAuthenticated\"])\n  const {userData} = useContext(GlobalContext)\n  const [userDataModal, setUserDataModal] = userData\n\n  const submit = () => {\n    var url_string = window.location.href\n    var url = new URL(url_string)\n    var code = url.searchParams.get('code')\n    // console.log(code)\n    axios.get(\"http://localhost:8080/api/gmail/get-token/\"+cookies.userId+\"?code=\"+code).then((res) => {\n      console.log(res)\n      if(res.status === 200){\n        setUserDataModal(false)\n        window.close()\n      }\n    })\n        // window.close()\n  }\n  return(\n    <div>\n      <button onClick={submit}>Submit</button>\n    </div>\n  )\n}\n\nexport default Redirect\n"]},"metadata":{},"sourceType":"module"}